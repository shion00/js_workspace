<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Document</title>
     <style>
          #myMap{
               width: 100%;
               height: 800px;
               background: yellow;
          }
     </style>
     <script>
          var storeArray=[//맛집들을 보유할 일차원 배열, 현재 길이는 0, 텅비었으니깐.
               {
                    content:"맥도날드",
                    pos:{
                         lati:37.501453,
                         longi:127.016716
                    },
                    url:"../images/food_icon/mc.webp"
               },
               {
                    content:"김밥천국",
                    pos:{
                         lati:37.502053,
                         longi:127.020716
                    },
                    url:"../images/food_icon/kfood.webp"
               },
               {
                    content:"베스킨라빈스",
                    pos:{
                         lati:37.502453,
                         longi:127.026716
                    },
                    url:"../images/food_icon/ice.webp"
               },
               {
                    content:"피자헛",
                    pos:{
                         lati:37.503053,
                         longi:127.030716
                    },
                    url:"../images/food_icon/pizza.webp"
               },
               {
                    content:"빕스",
                    pos:{
                         lati:37.503453,
                         longi:127.036716
                    },
                    url:"../images/food_icon/b.webp"
               }

          ];
          
          var myMap;

          //초기화
          function init(){ //callback 으로 호출됨
               myMap=document.getElementById("myMap");   
               createMap();
          }
          //여기서 맵처리할 것임
          function createMap(){
               //alert("준비됐어요"); 

               //구글맵 객체 생성하기
               var map=new google.maps.Map(myMap,{
                    center:new google.maps.LatLng(37.500453,127.036716),
                    zoom:17
               });
               
               for(var i=0;i<storeArray.length;i++){
                    var store=storeArray[i];//한개의 제이슨이 담겨진다.

                    //지도에 마커 표시하기 (맛집들)
                    var marker=new google.maps.Marker({
                         position:new google.maps.LatLng(store.pos.lati,store.pos.longi),
                         icon:{
                              url:store.url,
                              scaledSize:new google.maps.Size(45,45)
                         }
                    });
                    //마커를 적용할 맵 지정
                    marker.setMap(map);

                    //정보창 띄우기
                    var popup=new google.maps.InfoWindow({
                         content:store.content
                    });
                    //팝업을 적용할 맵과 마커지정
                    popup.open(map,marker);

               }

          }

     </script>
</head>
<body>
     <div id="myMap"></div>
</body>
</html>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZnvglOCJZXdrv9k96uXeEDOVGyLg_gJc&callback=init"></script>